var _ACT_=_ACT_||{};_ACT_.components=_ACT_.components||{},_ACT_.components["components/reg_10002_img_slider/pc/index"]=webpackJsonp([50],{241:function(module,exports){},302:function(module,exports){module.exports='{#if imgList && imgList.length} <div class="m-imgslider10002-wrap"> <div class="img-panel" style="width: {windowWidth + \'px\'};"> <ul class="img-list"> {#list imgList as item} <li ref={"img_" + item_index}> <a href={item.link || \'javascript:;\'} target="{item.link ? \'_blank\' : \'_self\'}"> <img src="{blankGif}" data-src={item.imageUrl|thumbnail:1920}/> </a> </li> {/list} </ul> {#if imgList && imgList.length > 1} <div class="img-pager"> <span class="img-pager-bd"> <span class="img-pager-items"> {#list imgList as item} <a on-click={this.$switchTo(item_index)} class={item_index == activeIndex ? \'active\' : \'\'} href="javascript:;">●</a> {/list} </span> </span> </div> <a on-click={this.$switchPrev()} class="img-pager-step prev" href="javascript:;">＜</a> <a on-click={this.$switchNext()} class="img-pager-step next" href="javascript:;">＞</a> {/if} </div> </div>\n{/if}'},559:function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(241);var _view=__webpack_require__(302),_view2=_interopRequireDefault(_view),_regionBaseComp=__webpack_require__(3),_regionBaseComp2=_interopRequireDefault(_regionBaseComp),_tools=__webpack_require__(2),ImgSlider=_regionBaseComp2.default.extend({template:_view2.default,config:function(data){var _this=this;if(this.supr(data),data=_tools.util.defaults(data,{activeIndex:0,autoSwitch:!0,imgList:[]}),this.animationLock=!1,data.dataMap&&data.dataMap.list&&data.dataMap.list.length){var imgList=[];data.dataMap.list.forEach(function(item){item.content.pcimg&&imgList.push({imageUrl:_tools.browser.fixProtocol(item.content.pcimg),link:item.content.link})}),this.data.imgList=imgList}var winResizeHandle=_tools.util.throttle(function(){_this.data.windowWidth=document.body.offsetWidth>1e3?document.body.offsetWidth:1e3,_this.$update()},100);winResizeHandle(),this.$on("$inject",function(){window.addEventListener("resize",winResizeHandle)})},init:function(){this.autoSwitch()},$switchTo:function(index){var _this2=this;(index=parseInt(index)||0)!=this.data.activeIndex&&(index>=0&&index<this.data.imgList.length&&this.switchAnimate(index,function(){_this2.data.activeIndex=index,_this2.$update()}),this.$update())},$switchNext:function(){var activeIndex=this.data.activeIndex;activeIndex+1>=this.data.imgList.length?activeIndex=0:activeIndex++,this.$switchTo(activeIndex)},$switchPrev:function(){var activeIndex=this.data.activeIndex;activeIndex-1<0?activeIndex=this.data.imgList.length-1:activeIndex--,this.$switchTo(activeIndex)},switchAnimate:function(index,callback){if(!this.animationLock){var that=this,activeIndex=this.data.activeIndex,curItemNode=this.$refs["img_"+activeIndex],targetItemNode=this.$refs["img_"+index];targetItemNode.style.zIndex=2,targetItemNode.style.opacity=0,targetItemNode.style.filter="alpha(Opacity=0)",targetItemNode.style.display="block",curItemNode.style.zIndex=1,this.animationLock=!0,(0,_tools.animation)(0,100,600,"Linear",function(result){targetItemNode.style.opacity=result/100,targetItemNode.style.filter="'alpha(Opacity="+result+")';",result>=100&&(that.animationLock=!1,curItemNode.style.display="none",curItemNode.style.opacity="0",curItemNode.style.filter="alpha(Opacity=0)",curItemNode.style.zIndex=1,"function"==typeof callback&&callback(),that.$emit("change",index))}),this.autoSwitch()}},autoSwitch:function(){var _this3=this,that=this;clearInterval(this.autoSwitchTimer),this.autoSwitchTimer=setInterval(function(){that.data.autoSwitch&&that.data.imgList.length>1?that.$switchNext():clearInterval(_this3.autoSwitchTimer)},5e3)},getRegionNotValid:function(data){return!(data&&data.dataMap&&data.dataMap.list&&data.dataMap.list.length)}});exports.default=ImgSlider}},[559]);
var _ACT_=_ACT_||{};_ACT_.components=_ACT_.components||{},_ACT_.components["components/reg_1005_goods/pc/index"]=webpackJsonp([27],{249:function(module,exports){},310:function(module,exports){module.exports='{#if dataMap && dataMap.list && dataMap.list.length} <section class="m-goods1005-panel"> <ul class="goods-list f-cb"> {#list dataMap.list as goods} <li class="g-col {@(showStyleMap.colClassName)}"> <div class="goods-bd"> <div class="goods-bd-border" style="border: 1px solid {moduleInfo.configMap.bgColor};"> <div class="goods-img"> <a href="{@(goods.content.goodsLink)}" target="_blank"> <img class="img" src="{blankGif}" data-src="{(goods.content.goodsConfigMap.imageUrl||goods.content.imageUrl)|thumbnail:showStyleMap.imgWidth,showStyleMap.imgHeight}" /> {#if goods.content.actualStorageStatus === 0} <i class="u-soldout">已抢光</i> {/if} </a> <GoodsTagTr goods="{@(goods.content)}" config="{configMap}"></GoodsTagTr> {#if (goods.content.promoStatus == 2 || goods.content.promoStatus == 3)} {#if promotionStatus == \'10\'} <GoodsPromotion goods="{@(goods.content)}" pcShowStyle="{configMap.pcShowStyle}" vip={vip}/> {/if} {#if promotionStatus == \'11\'} {#if configMap.pcShowStyle == \'1x4\'} {#if goods.content.advancePrice && !this.isPreBuyForVip(goods.content)} <GoodsBlackPromotion goods="{@(goods.content)}" vip={vip}></GoodsBlackPromotion> {#elseif !this.isPreBuyForVip(goods.content)} <GoodsBlack goods="{@(goods.content)}" vip={vip}></GoodsBlack> {/if} {/if} {/if} {#if promotionStatus == \'01\' && !this.isPreBuyForVip(goods.content)} <GoodsBlack goods="{@(goods.content)}"></GoodsBlack> {/if} {#else} <GoodsTagBottomOne goods="{@(goods.content)}" /> <GoodsTagBottomTwo goods="{@(goods.content)}" config="{configMap}" /> {#if configMap.showPromotionTag && !this.isPreBuyForVip(goods.content)} <GoodsPromotionTag goods="{@(goods.content)}" /> {/if} {/if} </div> <h5 class="goods-title"> <a href="{@(goods.content.goodsLink)}" target="_blank">{goods.content.goodsConfigMap.title || goods.content.title}</a> </h5> <h6 class="goods-introduce"> {#if this.isVipPreBuy(goods.content)} <img class="vip-icon" src="{goods.content.vipPreBuy.vipPreImgPC}" /> {/if} {goods.content.introduce} </h6> <GoodsPrice isVipUser={vip} config={priceConfig} goods={goods.content} priceColor={configMap.priceColor||\'\'} /> {#if actionType && this.allowActionType(actionType+\'\') && !(goods.content.actualStorageStatus === 0)} <a on-click={this.doAction(actionType, goods_index)} class="goods-btn" href="javascript:;" style="background-color: {configMap.priceColor || \'\'};" > {#if actionType == ACTION_TYPE.FAVOR} {#if goods.favorState === \'favored\'} <span>已收藏</span> {#else} <span>收藏</span> {/if} {#elseif actionType == ACTION_TYPE.CART} <span>加入购物车</span> {#elseif actionType == ACTION_TYPE.JUMP} <span>立即购买</span> {/if} </a> {/if} </div> </div> </li> {/list} </ul> </section>\n{/if}'},567:function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(249);var _base=__webpack_require__(73),_base2=_interopRequireDefault(_base),_view=__webpack_require__(310),_view2=_interopRequireDefault(_view),_tools=__webpack_require__(2),_index=__webpack_require__(10),_index2=__webpack_require__(14),LIST_COL_CLASS_MAPPING={"1x3":{colClassName:"col-1x3",imgWidth:327,imgHeight:327,linePerSize:3},"1x4":{colClassName:"col-1x4",imgWidth:244,imgHeight:244,linePerSize:4},"1x5":{colClassName:"col-1x5",imgWidth:194,imgHeight:194,linePerSize:5}},GoodsList=_base2.default.extend({template:_view2.default,config:function(data){var moduleIndex=data.extendMap.moduleIndex,moduleInfo=window._ACT_.frameData.moduleList[moduleIndex];if(this.supr(data),data=_tools.util.defaults(data,{defaultColor:"#d22147",vip:!1,isVipShow:!1,moduleInfo:moduleInfo}),!data.isRegionNotValid){this.$goodsAction=_index2.actionModule;var _data=data,configMap=_data.configMap;data.actionType=this.$goodsAction.$getActionDataMap(configMap).actionType,configMap.pcShowStyle=configMap.pcShowStyle||"1x5",data.dataMap.list.forEach(function(goods){goods.favorState="nofavor"}),data.showStyleMap=LIST_COL_CLASS_MAPPING[configMap.pcShowStyle],this.setGoodsLink(),data.dataMap.list=_tools.util.getRoundList(data.dataMap.list,data.showStyleMap.linePerSize),data.vip=window.__vip,this.changePromotionData(configMap),data.promotionStatus=this.promotionStatus(),data.priceConfig={isAfterSwitchTime:this.isAfterSwitchTime(configMap.switchTime,window._ACT_.systemTime),afterPrePriceName:configMap.afterPrePriceName,beforePrePriceName:configMap.beforePrePriceName},this.$update()}},changePromotionData:function(configMap){configMap.showPromotionTagStyle&&(1==configMap.showPromotionTagStyle?(this.data.configMap.showPromotionTag=!1,this.data.configMap.showAdvanceBlackCardPrice=!1):2==configMap.showPromotionTagStyle?(this.data.configMap.showPromotionTag=!0,this.data.configMap.showAdvanceBlackCardPrice=!1,this.data.configMap.showHotSaleTag=!1,this.data.configMap.showActivityTag=!1,this.data.configMap.beforeActivityTag=void 0,this.data.configMap.afterActivityTag=void 0):3==configMap.showPromotionTagStyle?(this.data.configMap.showPromotionTag=!1,this.data.configMap.showAdvanceBlackCardPrice=!0):4==configMap.showPromotionTagStyle&&(this.data.configMap.showPromotionTag=!0,this.data.configMap.showAdvanceBlackCardPrice=!0))},promotionStatus:function(){var configMap=this.data.configMap;return showPromotionTag=0,showAdvanceBlackCardPrice=0,configMap.showPromotionTag&&(showPromotionTag=1),configMap.showAdvanceBlackCardPrice&&(showAdvanceBlackCardPrice=1),""+showPromotionTag+showAdvanceBlackCardPrice},doAction:function(actionType,goodsIndex){if(2!=actionType||"favored"!=this.data.dataMap.list[goodsIndex].favorState){var options={actionType:actionType,goodsInfo:this.data.dataMap.list[goodsIndex].content,cbDoFavor:this.cbDoFavor.bind(this,goodsIndex),cbAddCart:this.cbAddCart.bind(this,goodsIndex)};this.$goodsAction.$doAction(options)}},cbDoFavor:function(goodIndex){this.data.dataMap.list[goodIndex].favorState="favored",this.$update()},cbAddCart:function(){},getRegionNotValid:function(data){return!data||!data.dataMap||!data.dataMap.list||data.dataMap.list.length<1}});GoodsList.component("GoodsPrice",_index.GoodsPrice),GoodsList.component("GoodsTagBottomOne",_index.GoodsTagBottomOne),GoodsList.component("GoodsTagBottomTwo",_index.GoodsTagBottomTwo),GoodsList.component("GoodsPromotionTag",_index.GoodsPromotionTag),GoodsList.component("GoodsPromotion",_index.GoodsPromotion),GoodsList.component("GoodsTopTag",_index.GoodsTopTag),GoodsList.component("GoodsBlack",_index.GoodsBlack),GoodsList.component("GoodsBlackPromotion",_index.GoodsBlackPromotion),GoodsList.component("GoodsTagTr",_index.GoodsTagTr),exports.default=GoodsList},73:function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0});var _regionBaseComp=__webpack_require__(3),_regionBaseComp2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_regionBaseComp),_constant=__webpack_require__(11),CONST=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_constant),TYPE_MAP=CONST.GOODS_ACTION_TYPE_MAP||{},ALLOW_ACTION_TYPES=[""+TYPE_MAP.FAVOR,""+TYPE_MAP.CART,""+TYPE_MAP.JUMP],Goods=_regionBaseComp2.default.extend({config:function(data){this.supr(data),data.ACTION_TYPE=TYPE_MAP},getRegionNotValid:function(data){return!data||!data.dataMap||!data.dataMap.list||data.dataMap.list.length<1},setGoodsLink:function(){var _this=this,data=this.data,_data$extendMap=data.extendMap,source=_data$extendMap.source,pageId=_data$extendMap.pageId,rIdForStatis=_data$extendMap.rIdForStatis;(data.dataMap.list||[]).forEach(function(item,index){var link=_this.getBaseGoodsLink(item.content.goodsId);item.content.goodsLink=_this.addTrackLink({link:link,source:source,pageId:pageId,rIdForStatis:rIdForStatis,scm:item.statistic.scm||"",index:index+1})})},allowActionType:function(){var actionType=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return-1!=ALLOW_ACTION_TYPES.indexOf(""+actionType)}});exports.default=Goods}},[567]);
var _ACT_=_ACT_||{};_ACT_.components=_ACT_.components||{},_ACT_.components["components/reg_10001_img_hotarea/pc/index"]=webpackJsonp([51],{239:function(module,exports){},300:function(module,exports){module.exports='{#if dataMap && dataMap.content && dataMap.content.info && dataMap.content.info.image}\n{#if bgWidth && bgHeight}\n<div class="m-zoneimage"> <div class="item"> <div style="height:{bgHeight}px;"> <div class="imgwrap" ref="imgBg" data-bg-fix="{dataMap.content.info.image|thumbnail:bgWidth,bgHeight}" data-src-background="{dataMap.content.info.image|thumbnail:bgWidth,bgHeight}" style="width:{imgWrapWidth}px;margin-left:-{marginLeft}px;background-size:{bgWidth}px {bgHeight}px;{imgBgFix}"></div> </div> {#if dataMap.content.settings} {#list dataMap.content.settings as x} {#if x.type == 1 && x.redeemCode} <div class="hotarea" on-click={this.onGetCoupon(x,extendMap,x_index+1)} style="top:{x.topPer*100}%;left:{x.leftPer*100}%;width:{x.widthPer*100}%;height:{x.heightPer*100}%;"></div> {#elseif x.type == 0 && x.link} <a class="hotarea" href={this.addTrackLink({ link: x.link, source: extendMap.source, pageId: extendMap.pageId, rIdForStatis: extendMap.rIdForStatis, scm: scm, index: x_index+1 })} target="{x.target == 1 ? \'_blank\' : \'_self\'}" style="top:{x.topPer*100}%;left:{x.leftPer*100}%;width:{x.widthPer*100}%;height:{x.heightPer*100}%;"></a> {#elseif x.type == 2 && x.goodsId} <a class="hotarea" href={this.addTrackLink({ link: this.getBaseGoodsLink(x.goodsId), source: extendMap.source, pageId: extendMap.pageId, rIdForStatis: extendMap.rIdForStatis, scm: scm, index: x_index+1 })} target="_blank" style="top:{x.topPer*100}%;left:{x.leftPer*100}%;width:{x.widthPer*100}%;height:{x.heightPer*100}%;"></a> {/if} {/list} {/if} </div>\n</div>\n{/if}\n{/if}'},557:function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(239);var _regionBaseComp=__webpack_require__(3),_regionBaseComp2=_interopRequireDefault(_regionBaseComp),_view=__webpack_require__(300),_view2=_interopRequireDefault(_view),_tools=__webpack_require__(2),_index=__webpack_require__(14),PCImgHotArea=_regionBaseComp2.default.extend({template:_view2.default,config:function(data){var _this=this;if(this.supr(data),data=_tools.util.defaults(data,{}),!data.isRegionNotValid){var dataMap=data.dataMap,content=dataMap.content||{};content.info=content.pcImgInfo||{},content.settings=content.pcSettings||[],data.imgBgFix="",data.bgWidth=content.info.width,data.bgHeight=content.info.height,this.setBgDimension(),dataMap.statistic&&dataMap.statistic.scm&&(data.scm=dataMap.statistic.scm),this.$on("$inject",function(){var $imgBg=_this.$refs&&_this.$refs.imgBg||{},bgSrc="function"===_tools.util.typeOf($imgBg.getAttribute)?$imgBg.getAttribute("data-bg-fix"):"";window.addEventListener("resize",_tools.util.throttle(function(){bgSrc&&!_this.data.imgBgFix&&(_this.data.imgBgFix="background-image:url('"+bgSrc+"');"),_this.setBgDimension(!0)},100))})}},setBgDimension:function(){var forceUpdate=arguments.length>0&&void 0!==arguments[0]&&arguments[0],data=this.data,content=data.dataMap.content,info=content.info||{};data.imgWrapWidth=info.width>1e3?document.body.clientWidth||window.innerWidth:info.width,data.marginLeft=data.imgWrapWidth/2,forceUpdate&&this.$update()},getRegionNotValid:function(data){return!(data&&data.dataMap&&data.dataMap.content&&data.dataMap.content.pcImgInfo&&data.dataMap.content.pcImgInfo.image)},onGetCoupon:function(coupon,extendMap,index){if((coupon||{}).redeemCode){var redeemCode=coupon.redeemCode,hasCouponLink=this.checkCouponLink(coupon);if(hasCouponLink){var source=extendMap.source,pageId=extendMap.pageId,rIdForStatis=extendMap.rIdForStatis;coupon.couponLink=this.addTrackLink({link:coupon.couponLink,source:source,pageId:pageId,rIdForStatis:rIdForStatis,scm:this.data.scm,index:index}),_index.couponModule.$onGetCoupon({redeemCode:redeemCode,hasCouponLink:hasCouponLink,cbGetCoupon:this.cbGetCoupon.bind(this,coupon)})}else _index.couponModule.$onGetCoupon({redeemCode:redeemCode})}},checkCouponLink:function(coupon){if(coupon.couponLink){return coupon.couponLink.split(/\/([^\/]*)\.(html|shtml)/)[1]!=location.href.split(/\/([^\/]*)\.(html|shtml)/)[1]}},cbGetCoupon:function(coupon,res){res&&-12==res.code&&(window.location.href=coupon.couponLink)}});exports.default=PCImgHotArea}},[557]);
var _ACT_=_ACT_||{};_ACT_.components=_ACT_.components||{},_ACT_.components["components/reg_30002_nav/pc/index"]=webpackJsonp([41],{266:function(module,exports){},327:function(module,exports){module.exports='{#if dataMap && dataMap.content && dataMap.content.pcInfo && navList && navList.length > 0}\n<aside ref="navPanel" class="m-sidebar" style="background-color:{bgColor||defaultColor};top:{configMap.topSpace||defaultTopSpace}px;" r-class={{\'hide\':isHide}}> <ul class="m-navlist"> <li> <a href="//buy.kaola.com/cart.html" class="topPart" target="_blank" r-style={{ \'color\': configMap.pcTxtColor, \'background-color\': configMap.pcBgColor }} > <span class="u-iconfont u-iconfont-cart-2"></span><span class="icontext">购物车</span> {#if cartNum && cartNum < 0} <span class="cartnum">{#if cartNum > 99}99+{#else}{cartNum}{/if}</span> {/if} </a> </li> {#list navList as x} {#if x.name} <li r-style={{\'background-color\': configMap.pcBgColor}}> <a title={x.name} class="nav-item" href="#module_{x.id}" on-click={this.selectNavItem(x_index)} r-style={{\'color\': configMap.pcTxtColor}} r-class={{\'z-selected\': x_index === selectedItemIndex}} >{x.name}</a> </li> {/if} {/list} {#if navList.length > 0} <li> <a href="#top" class="bottomPart" on-click={selectedItemIndex = -1} r-style={{ \'color\': configMap.pcTxtColor, \'background-color\': configMap.pcBgColor }} ><b>&#xe624;</b>TOP</a> </li> {/if} </ul>\n</aside>\n{/if}'},584:function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _assign=__webpack_require__(8),_assign2=_interopRequireDefault(_assign);__webpack_require__(266);var _regionBaseComp=__webpack_require__(3),_regionBaseComp2=_interopRequireDefault(_regionBaseComp),_view=__webpack_require__(327),_view2=_interopRequireDefault(_view),_tools=__webpack_require__(2),NavTab=_regionBaseComp2.default.extend({template:_view2.default,config:function(data){var _this=this;if(this.supr(data),data.dataMap&&data.dataMap.content){var frameData=window._ACT_.frameData||{},moduleList=frameData.moduleList||[];(0,_assign2.default)(data,{defaultTopSpace:200,navList:this.getNavList(moduleList),bgColor:this.getBgColor(moduleList),defaultColor:"#282728",isHide:!0}),(0,_assign2.default)(data.configMap,{topSpace:data.configMap.topSpace||200,pcTxtColor:data.configMap.pcTxtColor||"#fff",pcBgColor:data.configMap.pcBgColor||"#F68383",showNavIndex:Math.floor(data.configMap.showNavIndex||0)||0}),data.configMap.topSpace<170&&(data.configMap.topSpace=170),data.configMap.showNavIndex<0&&(data.configMap.showNavIndex=0),data.navList.length>0&&(this.getCartNum(),this.onResize(),this.onScroll(),_tools.dom.on(window,"scroll",_tools.util.debounce(this.onScroll.bind(this),200,!1)),_tools.dom.on(window,"resize",_tools.util.debounce(this.onResize.bind(this),200,!1)),_tools.eventEmitter.$on("updateCartNum",this.updateCartNum.bind(this)),_tools.eventEmitter.$on("isRegionNotValid",function(moduleIndex){var id=moduleList[moduleIndex].id,list=_this.data.navList.filter(function(item){return item.id!=id});_this.data.navList=list,_this.onResize(),_this.onScroll(),_this.$update()}))}},selectNavItem:function(index){this.data.selectedItemIndex=index},getNavList:function(moduleList){var data=this.data,info=JSON.parse(data.dataMap.content.pcInfo||"{}"),navList=[];return moduleList.forEach(function(item){var id=item.id;id&&info[id]&&info[id].selected&&(data.requestSource===info[id].allowType||0==info[id].allowType)&&(info[id].id=id,navList.push(info[id]))}),navList},getBgColor:function(){var moduleList=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],moduleIndex=this.data.extendMap.moduleIndex,moduleData=moduleList[moduleIndex];if(moduleData&&moduleData.configMap)return moduleData.configMap.bgColor||""},getCartNum:function(){var _this2=this;_tools.fetchUtil.$request("/pages/cartAjax/getCartNum.html",{method:"GET"}).then(function(cbdata){cbdata&&cbdata.success&&cbdata.data&&(_this2.data.cartNum=cbdata.data,window._ACT_.cartNum=cbdata.data,_this2.$update())})},onScroll:function(){for(var scrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,topList=(this.data.navList||[]).map(function(){var navItem=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},element=_tools.dom.id("module_"+navItem.id)||{},marginTop=parseInt(element.style.marginTop,10)||0;return(element.offsetTop||0)-marginTop}),i=topList.length-1;i>=0;i--){if(scrollTop>=topList[i]-5){this.selectNavItem(i),this.$update();break}0===i&&(this.selectNavItem(-1),this.$update())}this.judgeIsHideOfScroll(scrollTop)},onResize:function(){var winWidth=_tools.dom.getWindowWidth();this.data.isHide=winWidth<1200,this.$update()},judgeIsHideOfScroll:function(scrollTop){var _data=this.data,navList=_data.navList,configMap=_data.configMap,isHide=!(navList&&navList.length);if(!isHide){var moduleIndex=configMap.showNavIndex>=navList.length?navList.length-1:configMap.showNavIndex,module=navList[moduleIndex];isHide=scrollTop<(_tools.dom.id("module_"+module.id)||{}).offsetTop}if(!isHide){var docFooterEle=this.docFooterEle,docFooterOffsetTop=void 0;docFooterEle||(docFooterEle=this.docFooterEle=_tools.dom.id("docFoot")),docFooterEle&&this.$refs&&this.$refs.navPanel&&(docFooterOffsetTop=docFooterEle.offsetTop||0,isHide=scrollTop+configMap.topSpace+this.$get("navHeight")>docFooterOffsetTop)}this.data.isHide=isHide,this.$update()},updateCartNum:function(cartNum){this.data.cartNum=cartNum||0,window._ACT_.cartNum=cartNum,this.$update()},computed:{navHeight:{get:function(data){var _data$navList=data.navList;return 36+26*(void 0===_data$navList?[]:_data$navList).length+36}}}});exports.default=NavTab}},[584]);